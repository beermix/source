diff --git a/Makefile.in b/Makefile.in
index 64e091ba7..b4de280e5 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -372,7 +372,7 @@ BUILD_PREFIX_1 = @BUILD_PREFIX_1@
 
 # Flags to pass to stage2 and later makes.  They are defined
 # here so that they can be overridden by Makefile fragments.
-BOOT_CFLAGS= -g -O2
+BOOT_CFLAGS= -g1 -O2
 BOOT_LDFLAGS=
 BOOT_ADAFLAGS= -gnatpg
 
diff --git a/Makefile.tpl b/Makefile.tpl
index 41cae58a2..ebab7a9b3 100644
--- a/Makefile.tpl
+++ b/Makefile.tpl
@@ -375,7 +375,7 @@ BUILD_PREFIX_1 = @BUILD_PREFIX_1@
 
 # Flags to pass to stage2 and later makes.  They are defined
 # here so that they can be overridden by Makefile fragments.
-BOOT_CFLAGS= -g -O2
+BOOT_CFLAGS= -g1 -O2
 BOOT_LDFLAGS=
 BOOT_ADAFLAGS= -gnatpg
 
diff --git a/config/acinclude.m4 b/config/acinclude.m4
index 8242b2c7a..42553c3b5 100644
--- a/config/acinclude.m4
+++ b/config/acinclude.m4
@@ -24,7 +24,7 @@ dnl normal versions of a library), tasteless as that idea is.
   if test "$ac_test_CXXFLAGS" = set; then
     CXXFLAGS="$ac_save_CXXFLAGS"
   elif test $ac_cv_prog_cxx_g = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-O2"
   fi
@@ -121,7 +121,7 @@ dnl normal versions of a library), tasteless as that idea is.
   if test "$ac_test_CFLAGS" = set; then
     CFLAGS="$ac_save_CFLAGS"
   elif test $ac_cv_prog_cc_g = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-O2"
   fi
diff --git a/configure b/configure
index abd93a990..c9999e214 100755
--- a/configure
+++ b/configure
@@ -4711,7 +4711,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5058,7 +5058,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
@@ -6830,7 +6830,7 @@ fi
 # CFLAGS_FOR_TARGET and CXXFLAGS_FOR_TARGET.
 if test "x$CFLAGS_FOR_TARGET" = x; then
   if test "x${is_cross_compiler}" = xyes; then
-    CFLAGS_FOR_TARGET="-g -O2"
+    CFLAGS_FOR_TARGET="-g1 -O2"
   else
     CFLAGS_FOR_TARGET=$CFLAGS
     case " $CFLAGS " in
@@ -6847,7 +6847,7 @@ fi
 
 if test "x$CXXFLAGS_FOR_TARGET" = x; then
   if test "x${is_cross_compiler}" = xyes; then
-    CXXFLAGS_FOR_TARGET="-g -O2"
+    CXXFLAGS_FOR_TARGET="-g1 -O2"
   else
     CXXFLAGS_FOR_TARGET=$CXXFLAGS
     case " $CXXFLAGS " in
diff --git a/configure.ac b/configure.ac
index 9db4fd14a..52496e5ce 100644
--- a/configure.ac
+++ b/configure.ac
@@ -2351,7 +2351,7 @@ AC_SUBST(DEBUG_PREFIX_CFLAGS_FOR_TARGET)
 # CFLAGS_FOR_TARGET and CXXFLAGS_FOR_TARGET.
 if test "x$CFLAGS_FOR_TARGET" = x; then
   if test "x${is_cross_compiler}" = xyes; then
-    CFLAGS_FOR_TARGET="-g -O2"
+    CFLAGS_FOR_TARGET="-g1 -O2"
   else
     CFLAGS_FOR_TARGET=$CFLAGS
     case " $CFLAGS " in
@@ -2368,7 +2368,7 @@ AC_SUBST(CFLAGS_FOR_TARGET)
 
 if test "x$CXXFLAGS_FOR_TARGET" = x; then
   if test "x${is_cross_compiler}" = xyes; then
-    CXXFLAGS_FOR_TARGET="-g -O2"
+    CXXFLAGS_FOR_TARGET="-g1 -O2"
   else
     CXXFLAGS_FOR_TARGET=$CXXFLAGS
     case " $CXXFLAGS " in
diff --git a/fixincludes/configure b/fixincludes/configure
index 6e2d67b65..c007662a3 100755
--- a/fixincludes/configure
+++ b/fixincludes/configure
@@ -3987,7 +3987,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/gcc/configure b/gcc/configure
index a065ba237..895f12eec 100755
--- a/gcc/configure
+++ b/gcc/configure
@@ -4527,7 +4527,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4874,7 +4874,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/gnattools/configure b/gnattools/configure
index c2d755b72..504583a01 100755
--- a/gnattools/configure
+++ b/gnattools/configure
@@ -2809,7 +2809,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/gotools/configure b/gotools/configure
index ff71d2ae8..5c214737a 100755
--- a/gotools/configure
+++ b/gotools/configure
@@ -3384,7 +3384,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -3958,7 +3958,7 @@ $as_echo "$ac_try_echo"; } >&5
   rm -f conftest.er1 conftest.err
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
-GOFLAGS="-g -O2"
+GOFLAGS="-g1 -O2"
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
diff --git a/intl/configure b/intl/configure
index 2f3599314..cc29f4b35 100755
--- a/intl/configure
+++ b/intl/configure
@@ -2888,7 +2888,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libada/Makefile.in b/libada/Makefile.in
index 522b92073..98e7f02c3 100644
--- a/libada/Makefile.in
+++ b/libada/Makefile.in
@@ -59,7 +59,7 @@ LDFLAGS=
 CFLAGS=-g
 PICFLAG = @PICFLAG@
 GNATLIBFLAGS= -W -Wall -gnatpg -nostdinc
-GNATLIBCFLAGS= -g -O2
+GNATLIBCFLAGS= -g1 -O2
 GNATLIBCFLAGS_FOR_C = -W -Wall $(GNATLIBCFLAGS) $(CFLAGS_FOR_TARGET) \
 	-fexceptions -DIN_RTS @have_getipinfo@ @have_capability@
 
diff --git a/libada/configure b/libada/configure
index 743f98afd..2114dc574 100755
--- a/libada/configure
+++ b/libada/configure
@@ -2987,7 +2987,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libatomic/configure b/libatomic/configure
index e7076a0ff..1339054d9 100755
--- a/libatomic/configure
+++ b/libatomic/configure
@@ -4063,7 +4063,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libbacktrace/configure b/libbacktrace/configure
index 51d7cb458..871497645 100755
--- a/libbacktrace/configure
+++ b/libbacktrace/configure
@@ -3389,7 +3389,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5063,7 +5063,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libcc1/configure b/libcc1/configure
index 53f40d311..cdf5a9efc 100755
--- a/libcc1/configure
+++ b/libcc1/configure
@@ -3240,7 +3240,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -11359,7 +11359,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libcpp/configure b/libcpp/configure
index a7aa35c5b..e4d38a349 100755
--- a/libcpp/configure
+++ b/libcpp/configure
@@ -3550,7 +3550,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -3897,7 +3897,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libdecnumber/configure b/libdecnumber/configure
index 14c103a07..41596894b 100755
--- a/libdecnumber/configure
+++ b/libdecnumber/configure
@@ -2999,7 +2999,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libffi/configure b/libffi/configure
index 2324890a5..229f553a8 100755
--- a/libffi/configure
+++ b/libffi/configure
@@ -4197,7 +4197,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4794,7 +4794,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libgcc/configure b/libgcc/configure
index 8ceec1d04..7b754b3c2 100755
--- a/libgcc/configure
+++ b/libgcc/configure
@@ -3909,7 +3909,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libgfortran/configure b/libgfortran/configure
index 60867b93d..3ce727088 100755
--- a/libgfortran/configure
+++ b/libgfortran/configure
@@ -4431,7 +4431,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5664,7 +5664,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -13260,7 +13260,7 @@ if test "$ac_test_FCFLAGS" = set; then
   FCFLAGS=$ac_save_FCFLAGS
 elif test $ac_cv_prog_fc_g = yes; then
   if test "x$ac_cv_fc_compiler_gnu" = xyes; then
-    FCFLAGS="-g -O2"
+    FCFLAGS="-g1 -O2"
   else
     FCFLAGS="-g"
   fi
diff --git a/libgo/config/libtool.m4 b/libgo/config/libtool.m4
index e74475373..74310ae05 100644
--- a/libgo/config/libtool.m4
+++ b/libgo/config/libtool.m4
@@ -7126,7 +7126,7 @@ AC_DEFUN([LT_PROG_GCJ],
 [m4_ifdef([AC_PROG_GCJ], [AC_PROG_GCJ],
   [m4_ifdef([A][M_PROG_GCJ], [A][M_PROG_GCJ],
     [AC_CHECK_TOOL(GCJ, gcj,)
-      test "x${GCJFLAGS+set}" = xset || GCJFLAGS="-g -O2"
+      test "x${GCJFLAGS+set}" = xset || GCJFLAGS="-g1 -O2"
       AC_SUBST(GCJFLAGS)])])[]dnl
 ])
 
diff --git a/libgo/configure b/libgo/configure
index 0d5845e15..3fe7261d5 100755
--- a/libgo/configure
+++ b/libgo/configure
@@ -3975,7 +3975,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4549,7 +4549,7 @@ $as_echo "$ac_try_echo"; } >&5
   rm -f conftest.er1 conftest.err
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
-GOFLAGS="-g -O2"
+GOFLAGS="-g1 -O2"
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
diff --git a/libgo/go/cmd/go/internal/work/exec.go b/libgo/go/cmd/go/internal/work/exec.go
index 530272466..1da05bb68 100644
--- a/libgo/go/cmd/go/internal/work/exec.go
+++ b/libgo/go/cmd/go/internal/work/exec.go
@@ -2393,7 +2393,7 @@ func envList(key, def string) []string {
 
 // CFlags returns the flags to use when invoking the C, C++ or Fortran compilers, or cgo.
 func (b *Builder) CFlags(p *load.Package) (cppflags, cflags, cxxflags, fflags, ldflags []string, err error) {
-	defaults := "-g -O2"
+	defaults := "-g1 -O2"
 
 	if cppflags, err = buildFlags("CPPFLAGS", "", p.CgoCPPFLAGS, checkCompilerFlags); err != nil {
 		return
diff --git a/libgo/go/debug/dwarf/testdata/line-gcc-win.bin b/libgo/go/debug/dwarf/testdata/line-gcc-win.bin
index 583ad44dd..1fe08b0db 100644
Binary files a/libgo/go/debug/dwarf/testdata/line-gcc-win.bin and b/libgo/go/debug/dwarf/testdata/line-gcc-win.bin differ
diff --git a/libgo/go/debug/dwarf/testdata/ranges.c b/libgo/go/debug/dwarf/testdata/ranges.c
index 2f208e591..46c955c0b 100644
--- a/libgo/go/debug/dwarf/testdata/ranges.c
+++ b/libgo/go/debug/dwarf/testdata/ranges.c
@@ -1,4 +1,4 @@
-// gcc -g -O2 -freorder-blocks-and-partition
+// gcc -g1 -O2 -freorder-blocks-and-partition
 
 const char *arr[10000];
 const char *hot = "hot";
diff --git a/libgo/go/debug/dwarf/testdata/ranges.elf b/libgo/go/debug/dwarf/testdata/ranges.elf
index 7f54138cf..485d5aac6 100644
Binary files a/libgo/go/debug/dwarf/testdata/ranges.elf and b/libgo/go/debug/dwarf/testdata/ranges.elf differ
diff --git a/libgomp/configure b/libgomp/configure
index b4bc4f436..1b921572f 100755
--- a/libgomp/configure
+++ b/libgomp/configure
@@ -4214,7 +4214,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -11991,7 +11991,7 @@ if test "$ac_test_FCFLAGS" = set; then
   FCFLAGS=$ac_save_FCFLAGS
 elif test $ac_cv_prog_fc_g = yes; then
   if test "x$ac_cv_fc_compiler_gnu" = xyes; then
-    FCFLAGS="-g -O2"
+    FCFLAGS="-g1 -O2"
   else
     FCFLAGS="-g"
   fi
diff --git a/libhsail-rt/configure b/libhsail-rt/configure
index 6a086102d..abf9b5ef4 100755
--- a/libhsail-rt/configure
+++ b/libhsail-rt/configure
@@ -3884,7 +3884,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4481,7 +4481,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libiberty/configure b/libiberty/configure
index 7a34dabec..37ba2f020 100755
--- a/libiberty/configure
+++ b/libiberty/configure
@@ -3691,7 +3691,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libitm/configure b/libitm/configure
index fb742d79e..b1f074a20 100644
--- a/libitm/configure
+++ b/libitm/configure
@@ -4247,7 +4247,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4844,7 +4844,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libobjc/configure b/libobjc/configure
index c122c817d..7c7102711 100755
--- a/libobjc/configure
+++ b/libobjc/configure
@@ -3271,7 +3271,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libphobos/configure b/libphobos/configure
index e2977b3cc..585709fba 100755
--- a/libphobos/configure
+++ b/libphobos/configure
@@ -3308,7 +3308,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4957,7 +4957,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libquadmath/configure b/libquadmath/configure
index 5283adbdd..e3681f464 100755
--- a/libquadmath/configure
+++ b/libquadmath/configure
@@ -3838,7 +3838,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -11642,7 +11642,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libsanitizer/configure b/libsanitizer/configure
index 226da62cf..d676c1f77 100755
--- a/libsanitizer/configure
+++ b/libsanitizer/configure
@@ -3451,7 +3451,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5475,7 +5475,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5881,7 +5881,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libssp/configure b/libssp/configure
index 2adbcc3fc..a3b7f491d 100755
--- a/libssp/configure
+++ b/libssp/configure
@@ -3779,7 +3779,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/libstdc++-v3/configure b/libstdc++-v3/configure
index 1225edc59..f87d854cb 100755
--- a/libstdc++-v3/configure
+++ b/libstdc++-v3/configure
@@ -4505,7 +4505,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -4911,7 +4911,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/libtool.m4 b/libtool.m4
index 896676288..61d251e91 100644
--- a/libtool.m4
+++ b/libtool.m4
@@ -7052,7 +7052,7 @@ AC_DEFUN([LT_PROG_GCJ],
 [m4_ifdef([AC_PROG_GCJ], [AC_PROG_GCJ],
   [m4_ifdef([A][M_PROG_GCJ], [A][M_PROG_GCJ],
     [AC_CHECK_TOOL(GCJ, gcj,)
-      test "x${GCJFLAGS+set}" = xset || GCJFLAGS="-g -O2"
+      test "x${GCJFLAGS+set}" = xset || GCJFLAGS="-g1 -O2"
       AC_SUBST(GCJFLAGS)])])[]dnl
 ])
 
diff --git a/libvtv/configure b/libvtv/configure
index bfdf34954..396abcce8 100755
--- a/libvtv/configure
+++ b/libvtv/configure
@@ -3292,7 +3292,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5311,7 +5311,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5717,7 +5717,7 @@ if test "$ac_test_CXXFLAGS" = set; then
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g1 -O2"
   else
     CXXFLAGS="-g"
   fi
diff --git a/lto-plugin/configure b/lto-plugin/configure
index 8fdcab96d..ec941cee9 100755
--- a/lto-plugin/configure
+++ b/lto-plugin/configure
@@ -3897,7 +3897,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
@@ -5082,7 +5082,7 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g1 -O2"
   else
     CFLAGS="-g"
   fi
diff --git a/zlib/configure b/zlib/configure
index 7a8b49b0b..c8b20cc4c 100755
