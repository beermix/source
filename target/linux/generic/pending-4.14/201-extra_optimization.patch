diff -Naur linux-4.14.181-orig/Makefile linux-4.14.181/Makefile
--- linux-4.14.181-orig/Makefile	2020-05-20 16:22:39.341214427 +0300
+++ linux-4.14.181/Makefile	2020-05-20 16:25:48.641680298 +0300
@@ -656,9 +656,9 @@
 KBUILD_CFLAGS	+= $(call cc-disable-warning, attribute-alias)
 
 ifdef CONFIG_CC_OPTIMIZE_FOR_SIZE
-KBUILD_CFLAGS   += -Os
+KBUILD_CFLAGS   += -Os $(EXTRA_OPTIMIZATION)
 else
-KBUILD_CFLAGS   += -O2
+KBUILD_CFLAGS   += -O2 -fno-reorder-blocks -fno-tree-ch $(EXTRA_OPTIMIZATION)
 endif
 
 # Tell gcc to never replace conditional load with a non-conditional one
