From 6fc8a79de8942b6f930eaf9a1e1dc05fa626785f Mon Sep 17 00:00:00 2001
From: Rosen Penev <rosenp@gmail.com>
Date: Sat, 29 Aug 2020 17:17:28 -0700
Subject: [PATCH] umdns: fix 64-bit time format string

Fixes compilation under musl 1.2.0

Signed-off-by: Rosen Penev <rosenp@gmail.com>
---
 service.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/service.c b/service.c
index af3083e..53f44c1 100644
--- a/service.c
+++ b/service.c
@@ -17,6 +17,7 @@
 
 #include <resolv.h>
 #include <glob.h>
+#include <inttypes.h>
 #include <stdio.h>
 #include <time.h>
 
@@ -122,7 +123,7 @@ service_timeout(struct service *s)
 	time_t t = monotonic_time();
 
 	if (t - s->t <= TOUT_LOOKUP) {
-		DBG(2, "t=%lu, s->t=%lu, t - s->t = %lu\n", t, s->t, t - s->t);
+		DBG(2, "t=%llu, s->t=%llu, t - s->t = %llu\n", (unsigned long long)t, (unsigned long long)s->t, (unsigned long long)(t - s->t));
 		return 0;
 	}
 
